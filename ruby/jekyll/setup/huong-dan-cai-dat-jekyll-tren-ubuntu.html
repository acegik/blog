<!DOCTYPE html>
<html>
<head>
<meta charset="utf-8">
<title>HướNG DẫN CàI đặT JEKYLL TRêN UBUNTU &vert; ACEGIK'S BLOG</title>
<meta name="description" content="Hãy thắp một ngọn nến nhỏ, thay vì nguyền rủa bóng đêm">
<meta name="keywords" content="Jekyll, Markdown, Textile">

<!-- Twitter Cards -->
<meta name="twitter:card" content="summary">
<meta name="twitter:image" content="/blog/images/logo.png">
<meta name="twitter:title" content="Hướng dẫn cài đặt Jekyll trên Ubuntu">
<meta name="twitter:description" content="Hãy thắp một ngọn nến nhỏ, thay vì nguyền rủa bóng đêm">
<meta name="twitter:creator" content="@pnhung177">

<!-- Open Graph -->
<meta property="og:locale" content="en_US">
<meta property="og:type" content="article">
<meta property="og:title" content="Hướng dẫn cài đặt Jekyll trên Ubuntu">
<meta property="og:description" content="Hãy thắp một ngọn nến nhỏ, thay vì nguyền rủa bóng đêm">
<meta property="og:url" content="/blog/ruby/jekyll/setup/huong-dan-cai-dat-jekyll-tren-ubuntu.html">
<meta property="og:site_name" content="Acegik's Blog">
<meta property="og:image" content="/blog/images/">





<link rel="canonical" href="/blog/ruby/jekyll/setup/huong-dan-cai-dat-jekyll-tren-ubuntu.html">
<link href="/blog/feed.xml" type="application/atom+xml" rel="alternate" title="Acegik's Blog Feed">
<link rel="author" href="https://plus.google.com/u/3/115458186421626071505?rel=author">

<!-- http://t.co/dKP3o1e -->
<meta name="HandheldFriendly" content="True">
<meta name="MobileOptimized" content="320">
<meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no" />


    <link href='http://fonts.googleapis.com/css?family=Montserrat:400,700|Open+Sans:400,600,300,800,700' rel='stylesheet' type='text/css'>
	<link rel="stylesheet" href="/blog/assets/css/font-awesome.min.css">
    <link rel="stylesheet" href="/blog/assets/css/vendor/normalize.css">
    <link rel="stylesheet" href="/blog/assets/css/vendor/foundation.min.css">
    <link rel="stylesheet" href="/blog/assets/css/style.css">
    <link rel="stylesheet" href="/blog/assets/css/post.css">
    <script src="//ajax.googleapis.com/ajax/libs/jquery/1.11.0/jquery.min.js"></script>
    <script>window.jQuery || document.write('<script src="/blog/assets/js/vendor/jquery-1.11.1.min.js"><\/script>')</script>
    





<!-- Icons -->
<!-- 16x16 -->
<link rel="shortcut icon" href="/blog/favicon.ico">
<!-- 32x32 -->
<link rel="shortcut icon" href="/blog/favicon.png">
<!-- 57x57 (precomposed) for iPhone 3GS, pre-2011 iPod Touch and older Android devices -->
<link rel="apple-touch-icon-precomposed" href="/blog/images/apple-touch-icon-precomposed.png">
<!-- 72x72 (precomposed) for 1st generation iPad, iPad 2 and iPad mini -->
<link rel="apple-touch-icon-precomposed" sizes="72x72" href="/blog/images/apple-touch-icon-72x72-precomposed.png">
<!-- 114x114 (precomposed) for iPhone 4, 4S, 5 and post-2011 iPod Touch -->
<link rel="apple-touch-icon-precomposed" sizes="114x114" href="/blog/images/apple-touch-icon-114x114-precomposed.png">
<!-- 144x144 (precomposed) for iPad 3rd and 4th generation -->
<link rel="apple-touch-icon-precomposed" sizes="144x144" href="/blog/images/apple-touch-icon-144x144-precomposed.png">

</head>
<body class="post-template" itemscope itemtype="http://schema.org/WebPage">  

        <main id="summer-post-container-simple" class="summer-post-container-simple" role="main">
            <header class="summer-post-header-simple">
                <div class="summer-post-menu-header-simple">

                    <a class="summer-blog-logo" href="/blog">
                        <img src="/blog/images/logo.png" alt="Blog Logo" />
                    </a>

                <div class="summer-blog-menu">      
    <div class="summer-mobile-menu show-for-small">
        <a href="#"><i class="fa fa-bars"></i></a>
    </div>
    <ul class="summer-menu">
        <li class="summer-mobile-close-btn show-for-small text-right">
            <a href="#"><i class="fa fa-times"></i></a>
        </li>

            <li>
                    <a href="/blog/">Trang bìa</a>
                 </li>

            <li>
                    <a href="/blog/featured">Nổi bật</a>
                 </li>

            <li>
                    <a href="/blog/categories">Danh mục</a>
                 </li>

            <li>
                    <a href="/blog/about">Giới thiệu</a>
                 </li>
            
           <li><a href="/blog/feed.xml" title="Atom/RSS feed"><i class="icon-rss"></i> Feed</a></li>
    </ul>

</div>
            </div>

                <div class="summer-post-title-simple row">
                    <div class="small-12 columns">
                        <div class="summer-post-meta-simple">
                            <h1>Hướng dẫn cài đặt Jekyll trên Ubuntu</h1>
                            <p>by <strong>pnhung177</strong> &#8212; on <a href="/blog/tags/index.html#Jekyll" data-toggle="tooltip" title="Posts tagged with Jekyll" rel="tag">Jekyll</a>&nbsp;&comma;&nbsp;<a href="/blog/tags/index.html#Markdown" data-toggle="tooltip" title="Posts tagged with Markdown" rel="tag">Markdown</a>&nbsp;&comma;&nbsp;<a href="/blog/tags/index.html#Textile" data-toggle="tooltip" title="Posts tagged with Textile" rel="tag">Textile</a> &#8212; <strong><time datetime="2014-08-30T00:00:00+07:00">30/08/2014</time></strong></p>
                        </div>
                    </div>
                </div>
            </header>

        <article class="summer-post-content post tag-simple">
            <div><p>Jekyll là công cụ được sử dụng phổ biến hiện nay trong việc chuyển đổi nội dung văn bản từ Markdown/Textile thành trang web HTML tĩnh. Để hỗ trợ cho các bạn đang gặp khó khăn trong việc sử dụng Jekyll với các plugin mở rộng, bài viết này tôi hướng dẫn cách cài đặt Jekyll trên hệ điều hành Ubuntu.</p>

<p><a href="http://jekyllrb.com/">Jekyll</a> là ứng dụng phát triển trên nền tảng Ruby. Có nhiều cách cài đặt môi trường phát triển ứng dụng Ruby, trong đó linh hoạt nhất phải kể đến cách sử dụng <em>RVM</em> (Ruby Version Manager) để cài đặt và quản lý Ruby cũng như các phần mềm chạy trên Ruby.</p>

<h2 id="rvm-l-g">RVM là gì?</h2>

<p><em>RVM</em> (Ruby Version Manager) là một công cụ dòng lệnh trên Linux dùng để quản lý các phiên bản Ruby khác nhau chạy trên cùng một máy tính. Các bạn có thể tìm hiểu thêm về <em>RVM</em> bằng cách vào trang web <a href="http://rvm.io/">rvm.io</a>.</p>

<h3 id="ci-t-rvm">Cài đặt RVM</h3>

<p>Để cài đặt <em>rvm</em> trong Ubuntu (Linux nói chung) chúng ta cần có sẵn phần mềm <a href="http://curl.haxx.se/">curl</a>. Các bạn có thể kiểm tra xem phần mềm này đã được cài đặt hay chưa bằng lệnh đơn giản sau (lưu ý dấu $ là dấu nhắc đợi lệnh, không nằm trong lệnh trên):</p>

<div class="highlight"><pre><code class="language-bash" data-lang="bash"><span class="nv">$ </span>curl --version
curl 7.19.3 <span class="o">(</span>i686-pc-linux-gnu<span class="o">)</span> libcurl/7.19.3 OpenSSL/0.9.8k zlib/1.2.3
Protocols: tftp ftp telnet dict ldap http file https ftps 
Features: IPv6 Largefile NTLM SSL libz</code></pre></div>

<p>Nếu kết qủa hiển thị phiên bản của curl như trên, thì hệ điều hành của bạn đã được cài đặt. Nếu không, cũng đừng lo lắng, bạn chỉ việc chạy lệnh sau để cài và chờ một vài phút để quá trình tải và cài đặt hoàn tất:</p>

<div class="highlight"><pre><code class="language-bash" data-lang="bash"><span class="nv">$ </span>sudo apt-get install curl</code></pre></div>

<p>Sau khi đã có <em>curl</em>, các bạn cài đặt <em>rvm</em> vào môi trường của <em>tài khoản đăng nhập hiện thời</em> (lưu ý cài đặt này không dùng cho toàn bộ hệ thống) như sau:</p>

<div class="highlight"><pre><code class="language-bash" data-lang="bash"><span class="nv">$ </span><span class="se">\c</span>url -sSL https://get.rvm.io <span class="p">|</span> bash -s stable</code></pre></div>

<p>Lệnh cài đặt <em>rvm</em> ở trên có thể có thêm các tùy chọn cài đặt <em>--ruby</em>, <em>--rail</em>, <em>--puma</em>,… tuy nhiên chúng ta sẽ đợi <em>rvm</em> cài đặt thành công xong rồi mới chọn phiên bản <em>ruby</em> để cài đặt.</p>

<p>Sau khi cài đặt, khi chưa khởi động lại máy, chúng ta phải nạp khai báo môi trường <em>rvm</em> trước khi sử dụng:</p>

<div class="highlight"><pre><code class="language-bash" data-lang="bash"><span class="nv">$ </span><span class="nb">source</span> ~/.rvm/scripts/rvm</code></pre></div>

<p>Sau khi nạp xong thông số môi trường, kiểm tra thử <em>rvm</em> có chạy được từ dòng lệnh không, bằng lệnh hiển thị phiên bản như sau:</p>

<div class="highlight"><pre><code class="language-bash" data-lang="bash"><span class="nv">$ </span>rvm --version
rvm 1.25.25 <span class="o">(</span>stable<span class="o">)</span> by Wayne E. Seguin &lt;wayneeseguin@gmail.com&gt;, 
Michal Papis &lt;mpapis@gmail.com&gt; <span class="o">[</span>https://rvm.io/<span class="o">]</span></code></pre></div>

<h3 id="ci-t-ruby">Cài đặt Ruby</h3>

<p>Sau khi cài đặt và chạy được <em>rvm</em>, cài đặt <em>ruby</em> phiên bản 2.1.1 như sau:</p>

<div class="highlight"><pre><code class="language-bash" data-lang="bash"><span class="nv">$ </span>rvm install ruby 2.1.1</code></pre></div>

<p>Chờ vài phút để quá trình cài đặt thực hiện xong. Trong quá trình cài, có thể trình cài đặt yêu cầu nhập mật khẩu <em>root</em> do hệ thống phải ở trạng thái cập nhật mới nhất trước khi cài đặt <em>ruby</em>. Sau khi cài đặt xong, thiết lập phiên bản 2.1.1 làm phiên bản mặc định:</p>

<div class="highlight"><pre><code class="language-bash" data-lang="bash"><span class="nv">$ </span>rvm --default use 2.1.1</code></pre></div>

<p>Khai báo sử dụng <em>ruby</em> bằng lệnh sau:</p>

<div class="highlight"><pre><code class="language-bash" data-lang="bash"><span class="nv">$ </span>rvm use ruby default
Using /home/pnhung177/.rvm/gems/ruby-2.1.1</code></pre></div>

<p>Nếu <em>rvm</em> không hiển thị thông báo kết quả thực hiện lệnh là “Using …”, mà thay vào đó hiển thị thông báo:</p>

<div class="highlight"><pre><code class="language-bash" data-lang="bash">RVM is not a <span class="k">function</span>, selecting rubies with <span class="s1">&#39;rvm use ...&#39;</span> will not work.

You need to change your terminal emulator preferences to allow login shell.
Sometimes it is required to use <span class="sb">`</span>/bin/bash --login<span class="sb">`</span> as the command.
Please visit https://rvm.io/integration/gnome-terminal/ <span class="k">for</span> a example.</code></pre></div>

<p>Trường hợp này phát sinh là do mặc định <em>gnome-terminal</em> chạy với chế độ cửa sổ không login (non-login shell), do đó nó bỏ qua việc khởi tạo <strong>/etc/profile.d</strong> (và cả <strong>~/.bash_profile</strong> nữa), nên <em>RVM</em> không được khởi tạo đầy đủ và từ đó xuất hiện lỗi “RVM is not a function”.</p>

<p>Để khắc phục tình trạng này, chúng ta cần mở cửa sổ tùy chọn “Edit &gt; Profile Preferences” của <em>gnome-terminal</em>, check vào lựa chọn “Run command as login shell” như trong hình vẽ.</p>

<p><img src="/blog/media/e8082567-e8e5-4c56-8310-d5ecc5938822/gnome-terminal-run-command-as-login-shell.png" alt="Thiết lập tùy chọn &quot;Run command as login shell&quot; cho Gnome Terminal" /> </p>

<p>Đóng cửa sổ tùy chọn, đóng cửa sổ dòng lệnh và mở cửa sổ dòng lệnh mới, sau đó chạy lại lệnh sau:</p>

<div class="highlight"><pre><code class="language-bash" data-lang="bash"><span class="nv">$ </span>rvm use ruby default
Using /home/pnhung177/.rvm/gems/ruby-2.1.1</code></pre></div>

<p>Kỳ vọng là bạn sẽ nhận được thông báo kết quả thực thi lệnh như ở trên. Nếu vẫn không được, hãy chạy thử lệnh <em>bash –login</em> trước khi nạp <em>ruby</em>:</p>

<div class="highlight"><pre><code class="language-bash" data-lang="bash"><span class="nv">$ </span>bash --login
<span class="nv">$ </span>rvm use ruby default
Using /home/pnhung177/.rvm/gems/ruby-2.1.1</code></pre></div>

<p>Nếu vẫn không được, vui lòng search google và đăng câu hỏi vào stackoverflow.com để nhờ cộng đồng trợ giúp.</p>

<h3 id="ci-t-jekyll">Cài đặt Jekyll</h3>

<p>Sau khi chạy xong <em>ruby</em>, chúng ta có thể cài đặt <em>Jekyll</em> bằng lệnh đơn giản sau:</p>

<div class="highlight"><pre><code class="language-bash" data-lang="bash"><span class="nv">$ </span>gem install jekyll</code></pre></div>

<p>Đợi vài phút để <em>gem</em> cài đặt hết <em>Jekyll</em> và các thư viện liên quan. Tương tự như với <em>rvm</em> và <em>ruby</em>, chúng ta có thể kiểm tra việc cài đặt <em>Jekyll</em> đã hoàn chỉnh chưa bằng lệnh sau:</p>

<div class="highlight"><pre><code class="language-bash" data-lang="bash"><span class="nv">$ </span>jekyll --version
jekyll 2.3.0</code></pre></div>

<h2 id="s-dng-jekyll">Sử dụng Jekyll</h2>

<p>Đầu tiên, mở cửa sổ dòng lệnh (Gnome Terminal) mới, khai báo sử dụng phiên bản <em>ruby</em> default:</p>

<div class="highlight"><pre><code class="language-bash" data-lang="bash"><span class="nv">$ </span>rvm use ruby default
Using /home/pnhung177/.rvm/gems/ruby-2.1.1</code></pre></div>

<p>Chuyển đến thư mục chứa mã nguồn trang web <em>Jekyll</em> của bạn:</p>

<div class="highlight"><pre><code class="language-bash" data-lang="bash"><span class="nv">$ </span><span class="nb">cd</span> /path/to/your/jekyll/blog/folder</code></pre></div>

<p>Bên trong thư mục mã nguồn trang web của bạn, chạy thử Server của <em>Jekyll</em> tại cổng mặc định <em>4000</em> bằng lệnh:</p>

<div class="highlight"><pre><code class="language-bash" data-lang="bash"><span class="nv">$ </span>jekyll serve --watch
Configuration file: /path/to/your/jekyll/blog/folder/_config.yml
            Source: /path/to/your/jekyll/blog/folder
       Destination: /path/to/your/jekyll/blog/folder/_site
      Generating... 
     Build Warning: Layout <span class="s1">&#39;none&#39;</span> requested in feed.xml does not exist.
     Build Warning: Layout <span class="s1">&#39;nil&#39;</span> requested in sitemap.xml does not exist.
                    <span class="k">done</span>.
 Auto-regeneration: enabled <span class="k">for</span> <span class="s1">&#39;/path/to/your/jekyll/blog/folder&#39;</span>
Configuration file: /path/to/your/jekyll/blog/folder/_config.yml
    Server address: http://0.0.0.0:4000/
  Server running... press ctrl-c to stop.</code></pre></div>

<p>Mở trình duyệt web và nhập địa chỉ http://localhost:4000/ để xem trang web. Tham số <em>--watch</em> nhằm yêu cầu <em>Jekyll</em> biên dịch lại mỗi khi có thay đổi trong nội dung bài viết. Các trang HTML được tạo ra mặc định trong thư mục con _site.</p>

<p>Để biên dịch nội dung HTML vào một thư mục khác (chẳng hạn trong thư mục bên trong htdocs của trình chủ Apache Web Server), chúng ta sử dụng lệnh <em>build</em> với tham số <em>--destination</em> như sau:</p>

<div class="highlight"><pre><code class="language-bash" data-lang="bash"><span class="nv">$ </span>jekyll build --destination<span class="o">=</span>/var/www/htdocs/blog</code></pre></div>

<p>Các bạn có thể tìm hiểu thêm các tính năng khác của <em>Jekyll</em> trong <a href="http://jekyllrb.com/docs/home/">trang tài liệu</a> của dự án này.</p>


            </div>
        </article>
        <div class="cf"></div>
        <div class="row text-center">
            <section class="summer-post-share">
                <a class="twitter-icon" href="https://twitter.com/intent/tweet?text=&quot;Hướng dẫn cài đặt Jekyll trên Ubuntu&quot;%20/blog/ruby/jekyll/setup/huong-dan-cai-dat-jekyll-tren-ubuntu.html%20via%20&#64;pnhung177"
                    onclick="window.open(this.href, 'twitter-share', 'width=550,height=235');return false;" title="Share on Twitter">
                    <i class="fa fa-twitter"></i>
                </a>
                <a class="facebook-icon" href="https://www.facebook.com/sharer/sharer.php?u=/blog/ruby/jekyll/setup/huong-dan-cai-dat-jekyll-tren-ubuntu.html"
                    onclick="window.open(this.href, 'facebook-share','width=580,height=296');return false;" title="Share on Facebook">
                    <i class="fa fa-facebook"></i>
                </a>
                <a class="google-icon" href="https://plus.google.com/share?url=/blog/ruby/jekyll/setup/huong-dan-cai-dat-jekyll-tren-ubuntu.html"
                   onclick="window.open(this.href, 'google-plus-share', 'width=490,height=530');return false;" title="Share on Google+">
                    <i class="fa fa-google-plus"></i>
                </a>
            </section>
        </div>
        <div class="cf"></div>
        
            <div class="summer-author-info">
                <div class="row">
                    <section class="summer-post-author small-12 columns">
                        
                            <img src="/blog/images/avatars/pnhung177.png" class="summer-post-author-avatar" alt="Phạm Ngọc Hùng's photo">
                        
                        
                            <span class="author-label">Author</span>
                            <h1>Phạm Ngọc Hùng</h1>
                        
                        
                            <p><a href="mailto:pnhung177@drupalex.net" class="author-website">pnhung177@drupalex.net</a></p>
                        
                        
                            <p>Hãy thắp một ngọn nến nhỏ, thay vì nguyền rủa bóng đêm</p>
                        
                    </section>
                </div>
            </div> 
        
        <div class="cf"></div>
        
        <section class="summer-disqus row">
    <div class="small-12 columns">
        <h1 class="summer-comments-header">Comments</h1>
        <div id="disqus_thread"></div>
        <script type="text/javascript">
    /* * * CONFIGURATION VARIABLES: EDIT BEFORE PASTING INTO YOUR WEBPAGE * * */
    var disqus_shortname = 'acegik'; // required: replace example with your forum shortname

    /* * * DON'T EDIT BELOW THIS LINE * * */
    (function() {
        var dsq = document.createElement('script'); dsq.type = 'text/javascript'; dsq.async = true;
        dsq.src = '//' + disqus_shortname + '.disqus.com/embed.js';
        (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
    })();

    /* * * DON'T EDIT BELOW THIS LINE * * */
    (function () {
        var s = document.createElement('script'); s.async = true;
        s.type = 'text/javascript';
        s.src = '//' + disqus_shortname + '.disqus.com/count.js';
        (document.getElementsByTagName('HEAD')[0] || document.getElementsByTagName('BODY')[0]).appendChild(s);
    }());
</script>
<noscript>Please enable JavaScript to view the <a href="http://disqus.com/?ref_noscript">comments powered by Disqus.</a></noscript>
    </div>
</section>

        <div class="cf"></div>

    <footer class="summer-site-footer">
    <div class="copyright">
         <section>Bản quyền nội dung thuộc về <a href="/blog/about">Phạm Ngọc Hùng</a> &copy; 2014.</section>
    </div>
    <div class="social-icons">
        
        
        <a href="http://twitter.com/pnhung177">
            <span class="fa-stack fa-lg">
                <i class="fa fa-circle fa-stack-2x fa-inverse"></i>
                <i class="fa fa-twitter fa-stack-1x"></i>
            </span>
        </a>
        
        
        <a href="https://plus.google.com/u/3/115458186421626071505">
            <span class="fa-stack fa-lg">
                <i class="fa fa-circle fa-stack-2x fa-inverse"></i>
                <i class="fa fa-google-plus fa-stack-1x"></i>
            </span>
        </a>
        
        
        <a href="http://github.com/pnhung177">
            <span class="fa-stack fa-lg">
                <i class="fa fa-circle fa-stack-2x fa-inverse"></i>
                <i class="fa fa-github fa-stack-1x"></i>
            </span>
        </a>
        
        
        <a href="http://facebook.com/pnhung177">
            <span class="fa-stack fa-lg">
                <i class="fa fa-circle fa-stack-2x fa-inverse"></i>
                <i class="fa fa-facebook fa-stack-1x"></i>
            </span>
        </a>
        
    </div>
    
    <div class="cf"></div>
</footer>
 
</main>    
    <script src="/blog/assets/js/vendor/modernizr.js"></script>
    <script src="/blog/assets/js/foundation.min.js"></script>
    <script src="/blog/assets/js/vendor/background-check.js"></script>
    <script src="/blog/assets/js/vendor/post-header-animations.js"></script>
    <script src="/blog/assets/js/summer.js"></script>

    <script>
      $(document).foundation();
    </script>


<!-- Asynchronous Google Analytics snippet -->
<script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

  ga('create', 'UA-54128248-1', 'auto');
  ga('require', 'displayfeatures');
  ga('send', 'pageview');

</script>
 
</body>
</html>
